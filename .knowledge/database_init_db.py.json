{"is_source_file": true, "format": "Python", "description": "This script initializes and manages the SQLite database for the to-do list application, including creating tables if they do not exist, setting up configuration files, and ensuring database schema integrity.", "external_files": ["db_connection.txt", "db_visualizer/sqlite.env"], "external_methods": ["os.path.exists", "os.makedirs", "open", "re.search", "Path", "sqlite3.connect"], "published": ["main"], "classes": [], "methods": [{"name": "Path|None _parse_db_path_from_connection_file(connection_file_path: str)", "description": "Parses the database file path from the connection configuration file.", "scope": "", "scopeKind": ""}, {"name": "None _write_connection_file(connection_file_path: str, db_path: Path)", "description": "Writes the database connection information to the configuration file.", "scope": "", "scopeKind": ""}, {"name": "None _ensure_visualizer_env(db_path: Path)", "description": "Creates environment configuration for database visualizer tools.", "scope": "", "scopeKind": ""}, {"name": "None _ensure_schema(conn: sqlite3.Connection)", "description": "Creates necessary database tables and initial data if they do not exist.", "scope": "", "scopeKind": ""}, {"name": "None main()", "description": "Main execution function that handles database initialization workflow.", "scope": "", "scopeKind": ""}], "calls": ["os.path.exists", "os.getcwd", "os.makedirs", "open", "re.search", "Path", "sqlite3.connect", "conn.execute", "conn.close"], "search-terms": ["init_db", "SQLite schema", "database configuration", "db_connection.txt", "schema creation", "database initialization"], "state": 2, "file_id": 7, "knowledge_revision": 20, "git_revision": "b2569a7b9b90e0320f0eafe1fc3726873c49aebd", "revision_history": [{"18": "b20cd51bd996e983fc317910dfc40d83bab1cb13"}, {"20": "b2569a7b9b90e0320f0eafe1fc3726873c49aebd"}], "ctags": [{"_type": "tag", "name": "DB_CONNECTION_FILE", "path": "/home/kavia/workspace/code-generation/simple-to-do-list-281266-281277/database/init_db.py", "pattern": "/^DB_CONNECTION_FILE = \"db_connection.txt\"$/", "language": "Python", "kind": "variable"}, {"_type": "tag", "name": "_ensure_schema", "path": "/home/kavia/workspace/code-generation/simple-to-do-list-281266-281277/database/init_db.py", "pattern": "/^def _ensure_schema(conn: sqlite3.Connection) -> None:$/", "language": "Python", "typeref": "typename:None", "kind": "function", "signature": "(conn: sqlite3.Connection)"}, {"_type": "tag", "name": "_ensure_visualizer_env", "path": "/home/kavia/workspace/code-generation/simple-to-do-list-281266-281277/database/init_db.py", "pattern": "/^def _ensure_visualizer_env(db_path: Path) -> None:$/", "language": "Python", "typeref": "typename:None", "kind": "function", "signature": "(db_path: Path)"}, {"_type": "tag", "name": "_parse_db_path_from_connection_file", "path": "/home/kavia/workspace/code-generation/simple-to-do-list-281266-281277/database/init_db.py", "pattern": "/^def _parse_db_path_from_connection_file(connection_file_path: str) -> Path | None:$/", "language": "Python", "typeref": "typename:Path|None", "kind": "function", "signature": "(connection_file_path: str)"}, {"_type": "tag", "name": "_write_connection_file", "path": "/home/kavia/workspace/code-generation/simple-to-do-list-281266-281277/database/init_db.py", "pattern": "/^def _write_connection_file(connection_file_path: str, db_path: Path) -> None:$/", "language": "Python", "typeref": "typename:None", "kind": "function", "signature": "(connection_file_path: str, db_path: Path)"}, {"_type": "tag", "name": "main", "path": "/home/kavia/workspace/code-generation/simple-to-do-list-281266-281277/database/init_db.py", "pattern": "/^def main() -> None:$/", "language": "Python", "typeref": "typename:None", "kind": "function", "signature": "()"}], "hash": "fed81e4c1ef8f294b0d98a4bbb1fe70b", "format-version": 4, "code-base-name": "database", "filename": "database/init_db.py", "fields": [{"name": "DB_CONNECTION_FILE = \"db_connection.txt\"", "scope": "", "scopeKind": "", "description": "unavailable"}]}